{% extends "base.html" %}

{% block title %}Blockchain{% endblock %}

{% block content %}
<div class="main-card" style="max-width: 1000px;">
    <div class="card-header">
        <div class="icon">⛓️</div>
        <h2>{{ 'Blockchain Publique' if session.lang == 'fr' else 'Public Blockchain' }}</h2>
        <p>{{ 'Historique complet et vérifiable' if session.lang == 'fr' else 'Complete and verifiable history' }}</p>
    </div>
    
    <div style="overflow-x: auto;">
        <table style="width: 100%; border-collapse: collapse;">
            <thead>
                <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                    <th style="padding: 15px; text-align: left;">ID</th>
                    <th style="padding: 15px; text-align: left;">{{ 'Fichier' if session.lang == 'fr' else 'File' }}</th>
                    <th style="padding: 15px; text-align: left;">Hash</th>
                    <th style="padding: 15px; text-align: left;">{{ 'Propriétaire' if session.lang == 'fr' else 'Owner' }}</th>
                    <th style="padding: 15px; text-align: left;">{{ 'Date' if session.lang == 'fr' else 'Date' }}</th>
                    <th style="padding: 15px; text-align: left;">{{ 'Action' if session.lang == 'fr' else 'Action' }}</th>
                </tr>
            </thead>
            <tbody>
                {% for block in blocks %}
                <tr style="border-bottom: 1px solid rgba(255,255,255,0.05);">
                    <td style="padding: 15px;">#{{ block.id }}</td>
                    <td style="padding: 15px;">{{ block.filename }}</td>
                    <td style="padding: 15px;"><code style="color: var(--secondary);">{{ block.file_hash }}</code></td>
                    <td style="padding: 15px;">{{ block.username }}</td>
                    <td style="padding: 15px;">{{ block.timestamp }}</td>
                    <td style="padding: 15px;">
                        <a href="/verify/{{ block.id }}" class="feature-link" style="padding: 5px 10px;">
                            <i class="fas fa-check-circle"></i>
                        </a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    
    <div style="margin-top: 30px; text-align: center;">
        <a href="/" class="btn btn-secondary" style="width: auto;">
            <i class="fas fa-arrow-left"></i>
            {{ 'Retour' if session.lang == 'fr' else 'Back' }}
        </a>
    </div>
</div>
{% endblock %}